<div class="flex m-2">

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="sequencerToggle()">{{isPlaying ? 'Stop' : 'Start'}}</button>

    <div class="flex">
        <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                (click)="openClearAllPrompt()">Clear All</button>

        @if(clearAllPromptOpen) {
        <div class="bg-neutral-400 rounded-lg pr-2 pl-2">
            <span class="text-white">Are you sure?</span>
            <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                    (click)="closeClearAllPrompt()">No</button>
            <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                    (click)="clearAll()">Yes</button>
        </div>

        }
    </div>

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="openSavePatternPrompt()">Save</button>

    @if(savePatternPromptOpen) {
    <div class="bg-neutral-400 rounded-lg pr-2 pl-2">
        <input type="text"
               placeholder="pattern name"
               #patternName>
        <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                (click)="savePattern(patternName.value)">save</button>
        <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                (click)="closeSavePatternPrompt()">cancel</button>
    </div>
    }

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="openLoadPatternPrompt()">Load</button>

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="randomizeAll()">Randomize</button>

    @if(loadPatternPromptOpen) {
    <div
         class="bg-neutral-400 rounded-lg p-2 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-1/2 h-1/2">
        <div class="flex justify-between">
            <p class="text-2xl text-white">Load Pattern</p>
            <button class="bg-neutral-600 hover:bg-red-500 w-10 h-10 rounded-lg text-white text-center"
                    (click)="closeLoadPatternPrompt()">X</button>
        </div>

        <!-- patterns -->

        @for(pattern of getPatterns(); track pattern) {
        <button class="bg-neutral-600 p-2 rounded-lg m-1"
                (click)="selectPattern(pattern)">{{pattern.name}}</button>
        }

    </div>
    }
</div>
