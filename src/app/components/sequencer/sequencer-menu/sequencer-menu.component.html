<div class="flex m-2">

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="sequencerToggle()">{{isPlaying ? 'Stop' : 'Start'}}</button>

    <div class="flex">
        <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                (click)="openClearAllPrompt()">Clear All</button>

        @if(clearAllPromptOpen) {
        <div class="bg-neutral-400 rounded-lg pr-2 pl-2">
            <span class="text-white">Are you sure?</span>
            <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                    (click)="closeClearAllPrompt()">No</button>
            <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                    (click)="clearAll()">Yes</button>
        </div>

        }
    </div>

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="openSavePatternPrompt()">Save</button>

    @if(savePatternPromptOpen) {
    <div class="bg-neutral-400 rounded-lg pr-2 pl-2">
        <input type="text"
               placeholder="pattern name"
               #patternName>
        <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                (click)="savePattern(patternName.value)">save</button>
        <button class="bg-neutral-200 p-2 m-2 rounded-lg"
                (click)="closeSavePatternPrompt()">cancel</button>
    </div>
    }

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="openModal(loadPatternPrompt, {title: 'Load Pattern'})">Load</button>
    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="openModal(randomizePatternPrompt, {title: 'Randomize Pattern'})">Randomize</button>
</div>



<ng-template #loadPatternPrompt>
    @for(pattern of getPatterns(); track pattern) {
    <button class="bg-neutral-600 p-2 rounded-lg m-1"
            (click)="selectPattern(pattern)">{{pattern.name}}</button>
    }
</ng-template>

<ng-template #randomizePatternPrompt>
    <select name="scaleSelect"
            #scaleSelect
            (change)="selectScale(scaleSelect.value)">
        @for(scale of scales; track scale){
        <option [value]="scale.name">{{scale.name}}</option>
        }
    </select>

    <button class="bg-neutral-200 p-2 m-2 rounded-lg"
            (click)="randomizeAll()">Randomize</button>
</ng-template>
